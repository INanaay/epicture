<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: views/AddImagePage.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: views/AddImagePage.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from 'react';
import {View, StyleSheet, TextInput, Text, TouchableOpacity, PermissionsAndroid} from 'react-native'
import globalstyle from '../styles'
import { ImagePicker, Permissions } from 'expo';
import API from '../utils/api'


/*
This is the Upload image view.
 */


class AddImagePage extends React.Component {

    constructor(props)
    {
        super(props)
        this.state = {
           image: ''
        }
    }

    /**
     * We need to ask the user the permissions to access its galery and camera
     * @returns {Promise&lt;void>}
     */

    askPermissionsAsync = async () => {


        await Permissions.askAsync(Permissions.CAMERA);
        await Permissions.askAsync(Permissions.CAMERA_ROLL);
    }

    _takePhoto = async () => {

        await this.askPermissionsAsync();
        let result = await ImagePicker.launchCameraAsync({
            allowsEditing: true,
            base64: true,
        });


        if (!result.cancelled) {
            this.setState({image: result.base64})
        }
    }

    _pickImage = async () => {
        let result = await ImagePicker.launchImageLibraryAsync({
            allowsEditing: true,
            base64: true
        });


        if (!result.cancelled) {
            this.setState({ image: result.base64 });
        }
    };


    /**
     * Once a image is chosen, it is uploaded to imgur.
     * @private
     */
    _uploadImage()
    {


        API.uploadImage(this.state.image, global.token, 'base64', "lol", "pd", "dfdf")
            .then((response) => {
                console.log(response)
            }, (error) => {
                console.log(error)
            })

    }

    render()
    {
        return (
            &lt;View style={styles.container} >
                &lt;View style={{ marginTop: 22, marginHorizontal: 5, alignItems: 'center', justifyContent: 'center', flexDirection:'row'}}>
                    &lt;TouchableOpacity style={styles.chooseImageButton} onPress={this._pickImage}>
                        &lt;Text style={{fontWeight: 'bold', color: 'white'}}>Choose Image&lt;/Text>
                    &lt;/TouchableOpacity>

                    &lt;TouchableOpacity style={styles.chooseImageButton} onPress={this._takePhoto}>
                        &lt;Text style={{fontWeight: 'bold', color: 'white'}}>Take photo&lt;/Text>
                    &lt;/TouchableOpacity>
                &lt;/View>

                &lt;TouchableOpacity style={styles.chooseImageButton} onPress={this._uploadImage.bind(this)}>
                    &lt;Text style={{fontWeight: 'bold', color: 'white'}}>Upload&lt;/Text>
                &lt;/TouchableOpacity>


            &lt;/View>
        )
    }
}



const styles = StyleSheet.create({
    container: {
        width: '100%',
        height: '100%',
        backgroundColor: globalstyle.backgroundColor
    },
    chooseImageButton: {
        margin: 5,
        width: '50%',
        height: 30,
        backgroundColor: 'green',
        alignItems: 'center', justifyContent: 'center'
    }

});</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="FavoritesPage.html">FavoritesPage</a></li><li><a href="HomePage.html">HomePage</a></li><li><a href="LoginScreen.html">LoginScreen</a></li><li><a href="UserImagesPage.html">UserImagesPage</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Nov 01 2018 11:49:12 GMT+0100 (CET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
